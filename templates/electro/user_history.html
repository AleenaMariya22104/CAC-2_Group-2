{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Meta tags for character set, viewport, and initial scale -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Link to the static CSS file for styling -->
  <link rel="stylesheet" href="{% static 'css/userhome.css' %}">
  
  <!-- Title of the page -->
  <title>Previous History</title>
  
  <!-- Inline style for background image and body -->
  <style>
    body {
      height: 100%;
      background-color: #222120;
      background-image: url('/static/images/user3.jpg');
      background-size: 100%;
    }
  </style>
  
  <!-- Script link for font-awesome icons -->
  <script src="https://use.fontawesome.com/c9d2b81f44.js"></script>
</head>

<body>
  <!-- Page heading -->
  <h1>"Welcome to ELECTRO —where electrifying experiences come to life! ⚡️"</h1>
  
  <!-- Container for displaying user's previous records -->
  <div class="container">
    <!-- Subheading for user's previous records -->
    <h2>Your Previous Records</h2>
    
    <!-- Table to display the records -->
    <table>
      <thead>
        <tr>
          <th>Username</th>
          <th>First Name</th>
          <th>Units</th>
          <th>Amount</th>
          <th>Due Date</th>
        </tr>
      </thead>
      <tbody>
        <!-- Check if user_history exists -->
        {% if user_history %}
          <!-- Loop through each entry in user_history -->
          {% for entry in user_history %}
            <!-- Table row for each entry -->
            <tr>
              <td>{{ user.username }}</td> <!-- Assuming 'user' is available in the context -->
              <td>{{ user.first_name }}</td> <!-- Assuming 'user' is available in the context -->
              <td>{{ entry.units_added }} </td>
              <td>{{ entry.amount }}</td>
              <td>{{ entry.date_added }}</td>
            </tr>
          {% endfor %}
        {% else %}
          <!-- Display a message if no history is available -->
          <p>No history available.</p>
        {% endif %}
        <!-- Additional table row placeholder -->
        <tr>
        </tr>
      </tbody>
    </table>
  </div>
</body>

</html>
